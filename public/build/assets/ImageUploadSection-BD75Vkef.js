import{r as b,j as t}from"./app-DPh2l7GI.js";function j({images:s,setImages:i,errors:m,setData:n,data:o}){const[g,c]=b.useState(!1),f=e=>{e.preventDefault(),c(!1);const l=Array.from(e.dataTransfer.files).filter(a=>a.type.startsWith("image/"));if(l.length+s.length>5){alert("5枚までしかアップロードできません。");return}i(a=>[...a,...l]),n("image_files",[...o.image_files,...l])},h=e=>{e.preventDefault(),c(!0)},u=e=>{e.preventDefault(),c(!1)},x=e=>{const r=Array.from(e.target.files);if(r.length+s.length>5){alert("5枚までしかアップロードできません。");return}i([...s,...r]),n("image_files",[...o.image_files,...r])},p=e=>{const r=s.filter((a,d)=>d!==e),l=o.image_files.filter((a,d)=>d!==e);i(r),n("image_files",l)};return t.jsxs("div",{children:[t.jsx("label",{htmlFor:"image_files",className:"block text-sm font-medium text-gray-700",children:"画像ファイルをアップロード (最大5枚)"}),t.jsx("div",{className:`mt-2 flex justify-center rounded-lg border-2 p-6 ${g?"border-blue-400 bg-blue-50":"border-dashed border-gray-300 bg-white hover:bg-gray-50 transition"}`,onDragOver:e=>e.preventDefault(),onDragEnter:h,onDragLeave:u,onDrop:f,children:t.jsxs("div",{className:"text-center h-12",children:[t.jsxs("div",{className:"flex text-sm text-gray-600",children:[t.jsxs("label",{htmlFor:"image_files",className:"relative cursor-pointer rounded-md font-medium text-blue-600 focus-within:ring-offset-2 hover:text-blue-800 transition",children:[t.jsx("span",{children:"ファイルを選択"}),t.jsx("input",{id:"image_files",name:"image_files",type:"file",multiple:!0,accept:"image/*",className:"sr-only",onChange:x})]}),t.jsx("p",{className:"pl-1",children:"またはドラッグ＆ドロップ"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF 最大10MB"})]})}),m.image_files&&t.jsx("p",{className:"text-red-500 text-sm mt-2",children:m.image_files[0]}),t.jsx("div",{className:"mt-4 grid grid-cols-5 gap-4",children:s.map((e,r)=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:URL.createObjectURL(e),alt:"Preview",className:"h-24 w-24 object-cover rounded-lg border"}),t.jsx("button",{type:"button",className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",onClick:()=>p(r),children:"×"})]},r))})]})}export{j as default};
