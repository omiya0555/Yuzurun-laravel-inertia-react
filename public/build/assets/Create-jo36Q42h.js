import{r as h,a as j,j as e,M as v}from"./app-DPh2l7GI.js";import{I as a}from"./InputLabel-jkw5Mtt8.js";import{A as f}from"./AuthenticatedLayout-DwVj9hKc.js";import b from"./ImageUploadSection-BD75Vkef.js";import"./ResponsiveNavLink-QH_vOUXO.js";import"./transition-BaM-Rkh4.js";function F({categories:n,conditions:c}){const[m,u]=h.useState([]),{data:o,setData:i,post:x,processing:l,errors:s,reset:g}=j({title:"",description:"",location:"",category:"",condition:"",image_files:[]}),r=document.createElement("div");r.className="loading-overlay",document.body.appendChild(r);const p=t=>{t.preventDefault(),r.classList.add("active"),x(route("products.store"),{onSuccess:()=>{g(),r.classList.remove("active")},onError:()=>{r.classList.remove("active")},preserveScroll:!0})};return e.jsxs(f,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-stone-800",children:"マーケットに出品"}),children:[e.jsx(v,{title:"出品"}),e.jsx("div",{className:"flex max-w-xl mx-auto px-12 pb-8 rounded-md",children:e.jsxs("form",{onSubmit:p,className:"w-full space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"title",value:"商品名"}),e.jsx("input",{type:"text",id:"title",name:"title",value:o.title,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",onChange:t=>i("title",t.target.value),required:!0}),s.title&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:s.title})]}),e.jsx(b,{images:m,setImages:u,errors:s,setData:i,data:o}),Object.keys(s).filter(t=>t.startsWith("image_files")).slice(0,1).map(t=>e.jsxs("p",{className:"text-red-500 text-sm mt-2",children:[s[t][0]," "]},t)),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"description",value:"商品説明"}),e.jsx("textarea",{id:"description",name:"description",value:o.description,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",rows:"4",onChange:t=>i("description",t.target.value),required:!0}),s.description&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:s.description})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"location",value:"受け渡し場所"}),e.jsx("input",{type:"text",id:"location",name:"location",value:o.location,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",onChange:t=>i("location",t.target.value),required:!0}),s.location&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:s.location})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"category",value:"カテゴリー"}),e.jsxs("select",{id:"category",name:"category",value:o.category,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",onChange:t=>i("category",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"カテゴリーを選択してください"}),n.map((t,d)=>e.jsx("option",{value:t,children:t},d))]}),s.category&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:s.category})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"condition",value:"状態"}),e.jsxs("select",{id:"condition",name:"condition",value:o.condition,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",onChange:t=>i("condition",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"状態を選択してください"}),c.map((t,d)=>e.jsx("option",{value:t,children:t},d))]}),s.condition&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:s.condition})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:l,className:`w-full bg-red-600 text-white font-bold mt-4 px-8 py-3 rounded-md hover:bg-red-800 transition ${l?"opacity-50 cursor-not-allowed":""}`,children:l?"送信中...":"出品する"})})]})})]})}export{F as default};
