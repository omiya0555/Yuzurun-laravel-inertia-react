import{V as j,r,j as t,h as S}from"./app-DPh2l7GI.js";import v from"./ProductPagenateSection-gLcXKLui.js";import w from"./ProductCardList-CCaZjn7p.js";const N={0:"出品中",1:"予約中",2:"取引完了"},C=["家電","家具","本","衣類","おもちゃ","雑貨","スポーツ用品","食品","美容・健康","自転車","車・バイク用品","アウトドア用品","アクセサリー","ゲーム・ホビー","楽器","ペット用品","キッチン用品","文具・オフィス用品"];function I({products:n}){const{props:m}=j(),l=m.query||{},[p,x]=r.useState(n.data),[c,i]=r.useState(l.search||""),[o,u]=r.useState(l.category||""),[s,d]=r.useState(l.statuses?l.statuses.split(",").map(Number):[]),h=()=>{i(""),u(""),d([]),S.get(window.location.pathname,{},{preserveState:!0,replace:!0})},g=e=>{s.includes(e)?d(s.filter(a=>a!==e)):d([...s,e])};return r.useEffect(()=>{const e=n.data.filter(a=>{const f=a.title.includes(c),b=o?a.category===o:!0,y=s.length>0?s.includes(a.transaction_status):!0;return f&&b&&y});x(e)},[n.data,c,o,s]),t.jsxs("div",{className:"max-w-6xl mx-auto px-4 pb-8",children:[t.jsxs("div",{className:"flex flex-col gap-1 md:gap-4 md:flex-row mb-6 bg-white shadow-sm p-4 rounded-md",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",placeholder:"キーワードを入力",className:"w-full px-4 py-1 md:py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-300 placeholder-gray-500",value:c,onChange:e=>i(e.target.value)})}),t.jsxs("select",{className:"w-full md:w-auto px-4 py-1 md:py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-300 bg-white",value:o,onChange:e=>u(e.target.value),children:[t.jsx("option",{value:"",children:"全てのカテゴリ"}),C.map(e=>t.jsx("option",{value:e,children:e},e))]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(N).map(([e,a])=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"mr-2",checked:s.includes(parseInt(e)),onChange:()=>g(parseInt(e))}),t.jsx("span",{className:"text-sm text-gray-700",children:a})]},e))}),t.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-6 py-1 md:py-2 rounded-md transition duration-300",onClick:h,children:"クリア"})]}),t.jsx(w,{products:p}),t.jsx(v,{products:n})]})}export{I as default};
